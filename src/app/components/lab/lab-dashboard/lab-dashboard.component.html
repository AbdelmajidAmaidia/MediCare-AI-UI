<div style="padding:0;">
  <h2 style="margin:0 0 24px;color:#1565c0;">Lab Dashboard</h2>

  <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:16px;margin-bottom:24px;">
    <mat-card *ngFor="let s of stats" style="padding:20px;">
      <div style="display:flex;align-items:center;gap:12px;">
        <mat-icon [style.color]="s.color" style="font-size:32px;height:32px;width:32px;">{{s.icon}}</mat-icon>
        <div>
          <div style="font-size:1.8rem;font-weight:bold;" [style.color]="s.color">{{s.value}}</div>
          <div style="color:#666;font-size:0.8rem;">{{s.label}}</div>
        </div>
      </div>
    </mat-card>
  </div>

  <div style="display:grid;grid-template-columns:1fr 1.5fr;gap:24px;margin-bottom:24px;">
    <mat-card style="padding:24px;">
      <h3 style="margin:0 0 16px;color:#1565c0;">Test Volume by Hour</h3>
      <canvas baseChart [data]="chartData" [type]="chartType" [options]="chartOptions"></canvas>
    </mat-card>

    <mat-card>
      <div style="padding:20px 20px 0;">
        <h3 style="margin:0;color:#1565c0;">Pending Tests Queue</h3>
      </div>
      <table mat-table [dataSource]="pendingTests" style="width:100%;">
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef>ID</th>
          <td mat-cell *matCellDef="let t">{{t.id}}</td>
        </ng-container>
        <ng-container matColumnDef="patient">
          <th mat-header-cell *matHeaderCellDef>Patient</th>
          <td mat-cell *matCellDef="let t">{{t.patient}}</td>
        </ng-container>
        <ng-container matColumnDef="test">
          <th mat-header-cell *matHeaderCellDef>Test</th>
          <td mat-cell *matCellDef="let t">{{t.test}}</td>
        </ng-container>
        <ng-container matColumnDef="priority">
          <th mat-header-cell *matHeaderCellDef>Priority</th>
          <td mat-cell *matCellDef="let t">
            <mat-chip [style.background]="t.priority === 'STAT' ? '#ffebee' : '#e3f2fd'"
              [style.color]="t.priority === 'STAT' ? '#c62828' : '#1565c0'" style="font-size:0.75rem;">{{t.priority}}</mat-chip>
          </td>
        </ng-container>
        <ng-container matColumnDef="received">
          <th mat-header-cell *matHeaderCellDef>Received</th>
          <td mat-cell *matCellDef="let t">{{t.received}}</td>
        </ng-container>
        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef>Status</th>
          <td mat-cell *matCellDef="let t">{{t.status}}</td>
        </ng-container>
        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef></th>
          <td mat-cell *matCellDef="let t">
            <button mat-stroked-button color="primary" style="font-size:0.75rem;">Process</button>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </mat-card>
  </div>
</div>
