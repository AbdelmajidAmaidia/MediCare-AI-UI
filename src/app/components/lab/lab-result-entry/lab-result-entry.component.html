<div style="padding:0;">
  <h2 style="margin:0 0 24px;color:#1565c0;">Lab Result Entry</h2>

  <div style="display:grid;grid-template-columns:320px 1fr;gap:24px;">
    <!-- Pending Orders -->
    <mat-card style="padding:20px;">
      <h3 style="margin:0 0 16px;color:#1565c0;">Pending Orders</h3>
      <div *ngFor="let o of pendingOrders" (click)="selectOrder(o)"
        [style.border]="selectedOrder?.id === o.id ? '2px solid #1565c0' : '1px solid #e0e0e0'"
        style="padding:12px;border-radius:8px;margin-bottom:8px;cursor:pointer;">
        <div style="font-weight:600;">{{o.patient}}</div>
        <div style="color:#1565c0;font-size:0.85rem;">{{o.test}}</div>
        <div style="color:#999;font-size:0.75rem;">{{o.ordered}}</div>
        <div style="color:#999;font-size:0.75rem;">Order: {{o.id}}</div>
      </div>
    </mat-card>

    <!-- Result Entry Form -->
    <mat-card style="padding:24px;">
      <h3 style="margin:0 0 20px;color:#1565c0;">Enter Results</h3>
      <form [formGroup]="resultForm" (ngSubmit)="submitResult()">
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px;">
          <mat-form-field appearance="outline">
            <mat-label>Order ID</mat-label>
            <input matInput formControlName="orderId" readonly>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Test Name</mat-label>
            <mat-select formControlName="testName">
              <mat-option *ngFor="let t of tests" [value]="t">{{t}}</mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Result Value</mat-label>
            <input matInput formControlName="result" placeholder="e.g., 7.2">
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Unit</mat-label>
            <input matInput formControlName="unit" placeholder="e.g., g/dL">
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Reference Range</mat-label>
            <input matInput formControlName="referenceRange" placeholder="e.g., 4.5-11.0">
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Interpretation</mat-label>
            <mat-select formControlName="interpretation">
              <mat-option value="Normal">Normal</mat-option>
              <mat-option value="Low">Low</mat-option>
              <mat-option value="High">High</mat-option>
              <mat-option value="Critical Low">Critical Low</mat-option>
              <mat-option value="Critical High">Critical High</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <mat-form-field appearance="outline" style="width:100%;margin-bottom:20px;">
          <mat-label>Clinical Notes</mat-label>
          <textarea matInput formControlName="notes" rows="3"></textarea>
        </mat-form-field>
        <div style="display:flex;gap:8px;">
          <button mat-raised-button color="primary" type="submit" [disabled]="resultForm.invalid">
            <mat-icon>save</mat-icon> Submit Result
          </button>
          <button mat-stroked-button type="button" (click)="resultForm.reset()">Clear</button>
        </div>
      </form>
    </mat-card>
  </div>
</div>
