<div style="padding:0;">
  <h2 style="margin:0 0 24px;color:#1565c0;">Billing History</h2>

  <!-- Summary Cards -->
  <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:16px;margin-bottom:24px;">
    <mat-card style="padding:20px;background:#e8f5e9;">
      <div style="font-size:1.6rem;font-weight:bold;color:#2e7d32;">${{totalPaid}}</div>
      <div style="color:#555;font-size:0.9rem;">Total Paid</div>
    </mat-card>
    <mat-card style="padding:20px;background:#fff3e0;">
      <div style="font-size:1.6rem;font-weight:bold;color:#e65100;">${{totalOwed}}</div>
      <div style="color:#555;font-size:0.9rem;">Amount Owed</div>
    </mat-card>
    <mat-card style="padding:20px;background:#e3f2fd;">
      <div style="font-size:1.6rem;font-weight:bold;color:#1565c0;">{{bills.length}}</div>
      <div style="color:#555;font-size:0.9rem;">Total Invoices</div>
    </mat-card>
  </div>

  <mat-card>
    <table mat-table [dataSource]="bills" style="width:100%;">
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef>Invoice</th>
        <td mat-cell *matCellDef="let b">{{b.id}}</td>
      </ng-container>
      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef>Date</th>
        <td mat-cell *matCellDef="let b">{{b.date}}</td>
      </ng-container>
      <ng-container matColumnDef="service">
        <th mat-header-cell *matHeaderCellDef>Service</th>
        <td mat-cell *matCellDef="let b">{{b.service}}</td>
      </ng-container>
      <ng-container matColumnDef="amount">
        <th mat-header-cell *matHeaderCellDef>Total</th>
        <td mat-cell *matCellDef="let b">${{b.amount}}</td>
      </ng-container>
      <ng-container matColumnDef="insurance">
        <th mat-header-cell *matHeaderCellDef>Insurance</th>
        <td mat-cell *matCellDef="let b">${{b.insurance}}</td>
      </ng-container>
      <ng-container matColumnDef="owed">
        <th mat-header-cell *matHeaderCellDef>You Owe</th>
        <td mat-cell *matCellDef="let b" [style.color]="b.owed > 0 ? '#e65100' : '#2e7d32'"
          style="font-weight:600;">${{b.owed}}</td>
      </ng-container>
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef>Status</th>
        <td mat-cell *matCellDef="let b">
          <mat-chip [style.background]="b.status === 'Paid' ? '#e8f5e9' : b.status === 'Overdue' ? '#ffebee' : '#fff3e0'"
            [style.color]="b.status === 'Paid' ? '#2e7d32' : b.status === 'Overdue' ? '#c62828' : '#e65100'">
            {{b.status}}
          </mat-chip>
        </td>
      </ng-container>
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>Action</th>
        <td mat-cell *matCellDef="let b">
          <button *ngIf="b.status !== 'Paid'" mat-raised-button color="primary" style="font-size:0.8rem;">Pay Now</button>
          <button *ngIf="b.status === 'Paid'" mat-stroked-button style="font-size:0.8rem;">Receipt</button>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </mat-card>
</div>
